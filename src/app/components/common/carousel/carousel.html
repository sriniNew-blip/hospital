<div 
  class="carousel"
  (touchstart)="onTouchStart($event)"
  (touchmove)="onTouchMove($event)"
  (touchend)="onTouchEnd()"
  #carouselContainer>
  
  <!-- Slides Container -->
  <div class="slides-container">
    @for (image of images; track trackByFn(i, image); let i = $index) {
      <div 
        class="slide" 
        [class.active]="i === currentIndex"
        [attr.aria-hidden]="i !== currentIndex">
        <img 
          [src]="image" 
          [alt]="'Slide ' + (i + 1)" 
          class="slide-image"
          loading="lazy"
          (error)="handleImageError($event)">
      </div>
    }
  </div>

  <!-- Navigation Buttons -->
  @if (showNavigation && images && images.length > 1) {
    <button 
      class="nav-btn prev" 
      (click)="prev()" 
      aria-label="Previous slide"
      type="button">
      ‹
    </button>
    
    <button 
      class="nav-btn next" 
      (click)="next()" 
      aria-label="Next slide"
      type="button">
      ›
    </button>
  }

  <!-- Indicators -->
  @if (showIndicators && images && images.length > 1) {
    <div class="indicators">
      @for (image of images; track trackByFn(i, image); let i = $index) {
        <button 
          class="indicator" 
          [class.active]="i === currentIndex"
          (click)="goToSlide(i)"
          [attr.aria-label]="'Go to slide ' + (i + 1)"
          type="button">
        </button>
      }
    </div>
  }

  <!-- Slide Counter -->
  @if (images && images.length > 1) {
    <div class="slide-counter">
      {{ currentIndex + 1 }} / {{ images.length }}
    </div>
  }
</div>